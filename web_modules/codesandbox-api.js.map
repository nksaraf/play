{"version":3,"file":"codesandbox-api.js","sources":["../node_modules/codesandbox-api/dist/codesandbox.es5.js"],"sourcesContent":["var transformers = [];\nfunction transformError(error, module, modules) {\n    var transformedErrors = transformers.map(function (c) { return c(error, module, modules); }).filter(function (x) { return x != null; });\n    return transformedErrors[0];\n}\nfunction clearErrorTransformers() {\n    transformers.length = 0;\n}\nfunction registerErrorTransformer(check) {\n    transformers.push(check);\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar generateId = function () {\n    // Such a random ID\n    return Math.random() * 1000000 + Math.random() * 1000000 + '';\n};\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, target) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.target = target;\n        this.outgoingMessages = new Set();\n        this._messageListener = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            var data, result, returnMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = e.data;\n                        if (data.$type !== this.getTypeId()) {\n                            return [2 /*return*/];\n                        }\n                        // We are getting a response to the message\n                        if (this.outgoingMessages.has(data.$id)) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.handleMessage(data.$data)];\n                    case 1:\n                        result = _a.sent();\n                        returnMessage = {\n                            $originId: this.internalId,\n                            $type: this.getTypeId(),\n                            $data: result,\n                            $id: data.$id,\n                        };\n                        if (e.source) {\n                            // @ts-ignore\n                            e.source.postMessage(returnMessage, '*');\n                        }\n                        else {\n                            this._postMessage(returnMessage);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        this.createConnection();\n        this.internalId = generateId();\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"p-\" + this.type;\n    };\n    Protocol.prototype.createConnection = function () {\n        self.addEventListener('message', this._messageListener);\n    };\n    Protocol.prototype.dispose = function () {\n        self.removeEventListener('message', this._messageListener);\n    };\n    Protocol.prototype.sendMessage = function (data) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var messageId = generateId();\n            var message = {\n                $originId: _this.internalId,\n                $type: _this.getTypeId(),\n                $data: data,\n                $id: messageId,\n            };\n            _this.outgoingMessages.add(messageId);\n            var listenFunction = function (e) {\n                var data = e.data;\n                if (data.$type === _this.getTypeId() &&\n                    data.$id === messageId &&\n                    data.$originId !== _this.internalId) {\n                    resolve(data.$data);\n                    self.removeEventListener('message', listenFunction);\n                }\n            };\n            self.addEventListener('message', listenFunction);\n            _this._postMessage(message);\n        });\n    };\n    Protocol.prototype._postMessage = function (m) {\n        if (this.target.constructor.name === 'Worker' ||\n            // @ts-ignore Unknown to TS\n            (typeof DedicatedWorkerGlobalScope !== 'undefined' &&\n                // @ts-ignore Unknown to TS\n                target instanceof DedicatedWorkerGlobalScope)) {\n            // @ts-ignore\n            this.target.postMessage(m);\n        }\n        else {\n            this.target.postMessage(m, '*');\n        }\n    };\n    return Protocol;\n}());\n\n// {\n//   isFile(),\n//   readFile(),\n// }\n\n/**\n * Returns an action that describes to open a notification in the editor\n *\n * @export\n * @param {string} title\n * @param {('notice' | 'warning' | 'error' | 'success')} [notificationType='notice']\n * @param {number} [timeAlive=2] How long the notification should show in seconds\n * @returns {NotificationAction}\n */\nfunction show(title, notificationType, timeAlive) {\n    if (notificationType === void 0) { notificationType = 'notice'; }\n    if (timeAlive === void 0) { timeAlive = 2; }\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\n    return {\n        type: 'action',\n        action: 'notification',\n        title: title,\n        notificationType: notificationType,\n        timeAlive: timeAlive,\n    };\n}\n\n\nvar notifications = Object.freeze({\n\tshow: show\n});\n\nfunction openModule(id, lineNumber, column) {\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\n    return {\n        type: 'action',\n        action: 'editor.open-module',\n        path: id,\n        lineNumber: lineNumber,\n        column: column,\n    };\n}\n\n\nvar editor = Object.freeze({\n\topenModule: openModule\n});\n\nfunction add(dependencyName) {\n    return {\n        type: 'action',\n        action: 'source.dependencies.add',\n        dependency: dependencyName,\n    };\n}\n\n\nvar d = Object.freeze({\n\tadd: add\n});\n\nfunction rename(path, title) {\n    return {\n        type: 'action',\n        action: 'source.module.rename',\n        path: path,\n        title: title,\n    };\n}\n\n\nvar m = Object.freeze({\n\trename: rename\n});\n\nvar dependencies = d;\nvar modules = m;\n\n\nvar source = Object.freeze({\n\tdependencies: dependencies,\n\tmodules: modules\n});\n\n/**\n * Returns an action that describes to show an error\n * in the code of the editor (with the red squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {ErrorOptions} { line, column, path, payload }\n * @returns {ErrorAction}\n */\nfunction show$1(title, message, _a) {\n    var line = _a.line, column = _a.column, lineEnd = _a.lineEnd, columnEnd = _a.columnEnd, path = _a.path, payload = _a.payload, source = _a.source;\n    return {\n        title: title,\n        message: message,\n        line: line,\n        column: column,\n        path: path,\n        payload: payload,\n        lineEnd: lineEnd,\n        columnEnd: columnEnd,\n        severity: 'error',\n        type: 'action',\n        action: 'show-error',\n        source: source || 'browser',\n    };\n}\nfunction clear(path, source) {\n    return {\n        type: 'action',\n        action: 'clear-errors',\n        path: path,\n        source: source,\n    };\n}\n\n\nvar error = Object.freeze({\n\tshow: show$1,\n\tclear: clear\n});\n\n/**\n * Returns an action that describes to show a correction\n * in the code of the editor (with the yellow/blue squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {CorrectionOptions} { line, column, payload }\n * @returns {CorrectionAction}\n */\nfunction show$2(message, _a) {\n    var _b = _a === void 0 ? {\n        path: '',\n        severity: 'warning',\n        source: '',\n    } : _a, line = _b.line, column = _b.column, lineEnd = _b.lineEnd, columnEnd = _b.columnEnd, path = _b.path, payload = _b.payload, _c = _b.severity, severity = _c === void 0 ? 'warning' : _c, _d = _b.source, source = _d === void 0 ? '' : _d;\n    return {\n        message: message,\n        line: line,\n        column: column,\n        lineEnd: lineEnd,\n        columnEnd: columnEnd,\n        path: path,\n        payload: payload,\n        severity: severity,\n        source: source,\n        type: 'action',\n        action: 'show-correction',\n    };\n}\nfunction clear$1(path, source) {\n    return {\n        type: 'action',\n        action: 'clear-corrections',\n        path: path,\n        source: source,\n    };\n}\n\n\nvar correction = Object.freeze({\n\tshow: show$2,\n\tclear: clear$1\n});\n\n/**\n * Returns an action that describes to show a correction\n * in the code of the editor (with the yellow/blue squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {CorrectionOptions} { line, column, payload }\n * @returns {CorrectionAction}\n */\nfunction show$3(_a) {\n    var line = _a.line, path = _a.path, className = _a.className;\n    return {\n        line: line,\n        path: path,\n        className: className,\n        type: 'action',\n        action: 'show-glyph',\n    };\n}\n\n\nvar glyph = Object.freeze({\n\tshow: show$3\n});\n\n// All actions of the editor are defined here. The sandbox can send messages\n// like `source.files.rename` which the editor will see as an action to rename\n// a module. This will allow plugins to alter project content in the future\nvar actions = {\n    notifications: notifications,\n    editor: editor,\n    source: source,\n    error: error,\n    correction: correction,\n    glyph: glyph,\n};\n\n// import * as debug from 'debug';\n// import host from './host';\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar bundlers = new Map();\nfunction checkIsStandalone() {\n    if (typeof window === 'undefined') {\n        return true;\n    }\n    if (window.location && window.location.href.indexOf('?standalone') > -1) {\n        return true;\n    }\n    return !window.opener && window.parent === window;\n}\n// Whether the tab has a connection with the editor\nvar isStandalone = checkIsStandalone();\n// Field used by a \"child\" frame to determine its parent origin\nvar parentOrigin = null;\nvar parentOriginListener = function (e) {\n    if (e.data.type === 'register-frame') {\n        parentOrigin = e.data.origin;\n        self.removeEventListener('message', parentOriginListener);\n    }\n};\nif (typeof window !== 'undefined') {\n    self.addEventListener('message', parentOriginListener);\n}\nfunction resetState() {\n    parentOrigin = null;\n    bundlers.clear();\n}\n/**\n * Send a message to the editor, this is most probably an action you generated\n *\n * @export\n * @param {*} message\n * @returns\n */\nfunction dispatch(message) {\n    if (!message)\n        return;\n    var newMessage = __assign(__assign({}, message), { codesandbox: true });\n    notifyListeners(newMessage);\n    notifyFrames(newMessage);\n    if (isStandalone)\n        return;\n    if (parentOrigin === null && message.type !== 'initialized')\n        return;\n    if (window.opener) {\n        window.opener.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\n    }\n    else {\n        window.parent.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\n    }\n}\nvar listeners = {};\nvar listenerId = 0;\n/**\n * Listen to everything that comes in from either the editor or the sandbox\n * @param callback Call this function to 'unlisten'\n */\nfunction listen(callback) {\n    var id = ++listenerId;\n    listeners[id] = callback;\n    return function () {\n        delete listeners[id];\n    };\n}\nfunction notifyListeners(data, source) {\n    Object.keys(listeners).forEach(function (listenerId) {\n        if (listeners[listenerId]) {\n            listeners[listenerId](data, source);\n        }\n    });\n}\nfunction notifyFrames(message) {\n    var rawMessage = JSON.parse(JSON.stringify(message));\n    bundlers.forEach(function (origin, frame) {\n        if (frame && frame.postMessage) {\n            frame.postMessage(__assign(__assign({}, rawMessage), { codesandbox: true }), origin);\n        }\n    });\n}\nfunction eventListener(e) {\n    var data = e.data;\n    if (data && data.codesandbox && (parentOrigin === null || e.origin === parentOrigin)) {\n        notifyListeners(data, e.source);\n    }\n}\n/**\n * Register an window as a output the `dispatch` function can send messages to.\n *\n * @param frame\n */\nfunction registerFrame(frame, origin) {\n    bundlers.set(frame, origin);\n    frame.postMessage({\n        type: 'register-frame',\n        origin: document.location.origin,\n    }, origin);\n}\nif (typeof window !== 'undefined') {\n    // We now start listening so we can let our listeners know\n    window.addEventListener('message', eventListener);\n}\nfunction reattach() {\n    window.addEventListener('message', eventListener);\n}\n\n// Errors\n\nexport { Protocol, transformError, clearErrorTransformers, registerErrorTransformer, actions, isStandalone, resetState, dispatch, listen, notifyListeners, registerFrame, reattach };\n//# sourceMappingURL=codesandbox.es5.js.map\n"],"names":[],"mappings":"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"}