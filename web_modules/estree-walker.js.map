{"version":3,"file":"estree-walker.js","sources":["../node_modules/estree-walker/src/estree-walker.js"],"sourcesContent":["function walk(ast, { enter, leave }) {\n\treturn visit(ast, null, enter, leave);\n}\n\nlet should_skip = false;\nlet should_remove = false;\nlet replacement = null;\nconst context = {\n\tskip: () => should_skip = true,\n\tremove: () => should_remove = true,\n\treplace: (node) => replacement = node\n};\n\nfunction replace(parent, prop, index, node) {\n\tif (parent) {\n\t\tif (index !== null) {\n\t\t\tparent[prop][index] = node;\n\t\t} else {\n\t\t\tparent[prop] = node;\n\t\t}\n\t}\n}\n\nfunction remove(parent, prop, index) {\n\tif (parent) {\n\t\tif (index !== null) {\n\t\t\tparent[prop].splice(index, 1);\n\t\t} else {\n\t\t\tdelete parent[prop];\n\t\t}\n\t}\n}\n\nfunction visit(\n\tnode,\n\tparent,\n\tenter,\n\tleave,\n\tprop,\n\tindex\n) {\n\tif (node) {\n\t\tif (enter) {\n\t\t\tconst _should_skip = should_skip;\n\t\t\tconst _should_remove = should_remove;\n\t\t\tconst _replacement = replacement;\n\t\t\tshould_skip = false;\n\t\t\tshould_remove = false;\n\t\t\treplacement = null;\n\n\t\t\tenter.call(context, node, parent, prop, index);\n\n\t\t\tif (replacement) {\n\t\t\t\tnode = replacement;\n\t\t\t\treplace(parent, prop, index, node);\n\t\t\t}\n\n\t\t\tif (should_remove) {\n\t\t\t\tremove(parent, prop, index);\n\t\t\t}\n\n\t\t\tconst skipped = should_skip;\n\t\t\tconst removed = should_remove;\n\n\t\t\tshould_skip = _should_skip;\n\t\t\tshould_remove = _should_remove;\n\t\t\treplacement = _replacement;\n\n\t\t\tif (skipped) return node;\n\t\t\tif (removed) return null;\n\t\t}\n\n\t\tfor (const key in node) {\n\t\t\tconst value = (node )[key];\n\n\t\t\tif (typeof value !== 'object') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\telse if (Array.isArray(value)) {\n\t\t\t\tfor (let j = 0, k = 0; j < value.length; j += 1, k += 1) {\n\t\t\t\t\tif (value[j] !== null && typeof value[j].type === 'string') {\n\t\t\t\t\t\tif (!visit(value[j], node, enter, leave, key, k)) {\n\t\t\t\t\t\t\t// removed\n\t\t\t\t\t\t\tj--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if (value !== null && typeof value.type === 'string') {\n\t\t\t\tvisit(value, node, enter, leave, key, null);\n\t\t\t}\n\t\t}\n\n\t\tif (leave) {\n\t\t\tconst _replacement = replacement;\n\t\t\tconst _should_remove = should_remove;\n\t\t\treplacement = null;\n\t\t\tshould_remove = false;\n\n\t\t\tleave.call(context, node, parent, prop, index);\n\n\t\t\tif (replacement) {\n\t\t\t\tnode = replacement;\n\t\t\t\treplace(parent, prop, index, node);\n\t\t\t}\n\n\t\t\tif (should_remove) {\n\t\t\t\tremove(parent, prop, index);\n\t\t\t}\n\n\t\t\tconst removed = should_remove;\n\n\t\t\treplacement = _replacement;\n\t\t\tshould_remove = _should_remove;\n\n\t\t\tif (removed) return null;\n\t\t}\n\t}\n\n\treturn node;\n}\n\nexport { walk };\n"],"names":[],"mappings":"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"}